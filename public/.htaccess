# Apache .htaccess file for SEO redirects
# This file handles protocol and subdomain redirects

# Force HTTPS
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://half-half-man.com%{REQUEST_URI} [L,R=301]

# Force non-www
RewriteCond %{HTTP_HOST} ^www\.half-half-man\.com$ [NC]
RewriteRule ^(.*)$ https://half-half-man.com%{REQUEST_URI} [L,R=301]

# Remove trailing slashes (except for root)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [R=301,L]

# Handle case sensitivity
RewriteRule ^Projects/?$ /projects [R=301,L]
RewriteRule ^Blog/?$ /blog [R=301,L]
RewriteRule ^Contact/?$ /contact [R=301,L]
RewriteRule ^Tech-Stack/?$ /tech-stack [R=301,L]
RewriteRule ^Faq/?$ /faq [R=301,L]
RewriteRule ^Privacy-Policy/?$ /privacy-policy [R=301,L]

# Handle old tech-stack URLs (redirect to correct ones)
RewriteRule ^tech-stack/security/?$ /tech-stack/cybersecurity-practices [R=301,L]
RewriteRule ^tech-stack/backend/?$ /tech-stack/code-engineering [R=301,L]
RewriteRule ^tech-stack/frontend/?$ /tech-stack/nocode-solutions [R=301,L]
RewriteRule ^tech-stack/tools/?$ /tech-stack/optimization-maintenance [R=301,L]

# Handle React Router (SPA)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]
